<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>DLx Data Download API &middot; resol-vbus Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="styles/bootstrap.css">

    <link rel="stylesheet" href="styles/font-awesome/css/font-awesome.css">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="styles/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/main.css">

  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-inverse-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">resol-vbus</a>
        </div>
        <div class="navbar-collapse collapse navbar-inverse-collapse">
          <ul class="nav navbar-nav">
            <li><a href="index.html">About</a></li>
            <li><a href="tutorials.html">Tutorials</a></li>
            <li class="active"><a href="docs.html">Documentation</a></li>
            <li><a href="examples.html">Examples</a></li>
            <li><a href="support.html">Support</a></li>
  <!--
            <li class="active"><a href="#">Active</a></li>
            <li><a href="#">Link</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Dropdown header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
  -->
          </ul>
  <!--
          <form class="navbar-form navbar-left">
            <input type="text" class="form-control col-lg-8" placeholder="Search">
          </form>
  -->
          <ul class="nav navbar-nav navbar-right">
  <!--
            <li><a href="#">Link</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li><a href="#">Separated link</a></li>
              </ul>
            </li>
  -->
          </ul>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </div><!-- /.navbar -->

    <div class="container">
  <div class="row">
    <div class="col-sm-3 doc-sidebar">
      <div class="well">
        <h4>General</h4>
        <ul>
          <li><a href="docs.html">Overview</a></li>
          <li><a href="getting-started.html">Getting Started</a></li>
        </ul>
        <h4>Models</h4>
        <ul>
          <li><a href="header-class.html">vbus.Header</a></li>
          <li><a href="packet-class.html">vbus.Packet</a></li>
          <li><a href="datagram-class.html">vbus.Datagram</a></li>
          <li><a href="telegram-class.html">vbus.Telegram</a></li>
          <li><a href="header-set-class.html">vbus.HeaderSet</a></li>
          <li><a href="header-set-consolidator-class.html">vbus.HeaderSetConsolidator</a></li>
        </ul>
        <h4>Connections</h4>
        <ul>
          <li><a href="connection-class.html">vbus.Connection</a></li>
          <li><a href="serial-connection-class.html">vbus.SerialConnection</a></li>
          <li><a href="tcp-connection-class.html">vbus.TcpConnection</a></li>
        </ul>
        <h4>Converters</h4>
        <ul>
          <li><a href="converter-class.html">vbus.Converter</a></li>
          <li><a href="vbus-recording-converter-class.html">vbus.VBusRecordingConverter</a></li>
          <li><a href="dlx-json-converter-class.html">vbus.DLxJsonConverter</a></li>
          <li><a href="text-converter-class.html">vbus.TextConverter</a></li>
        </ul>
        <h4>Recorders</h4>
        <ul>
          <li><a href="recorder-class.html">vbus.Recorder</a></li>
          <li><a href="filesystem-recorder-class.html">vbus.FileSystemRecorder</a></li>
          <li><a href="dlx-recorder-class.html">vbus.DLxRecorder</a></li>
        </ul>
        <h4>Customizer</h4>
        <ul>
          <li><a href="customizer-class.html">vbus.Customizer</a></li>
          <li><a href="connection-customizer-class.html">vbus.ConnectionCustomizer</a></li>
        </ul>
        <h4>DataSource</h4>
        <ul>
          <li><a href="data-source-class.html">vbus.DataSource</a></li>
          <li><a href="serial-data-source-class.html">vbus.SerialDataSource</a></li>
          <li><a href="tcp-data-source-class.html">vbus.TcpDataSource</a></li>
        </ul>
        <h4>DataSourceProvider</h4>
        <ul>
          <li><a href="data-source-provider-class.html">vbus.DataSourceProvider</a></li>
          <li><a href="serial-data-source-provider-class.html">vbus.SerialDataSourceProvider</a></li>
          <li><a href="tcp-data-source-provider-class.html">vbus.TcpDataSourceProvider</a></li>
        </ul>
        <h4>Technical Specifications</h4>
        <ul>
          <li><a href="vbus-recording-file-format.html">VBus Recording File Format</a></li>
          <li><a href="vbus-over-tcp.html">VBus Over TCP</a></li>
          <li><a href="dlx-data-download-api.html">DLx Data Download API</a></li>
        </ul>
      </div>
    </div>
    <div class="col-sm-9 doc-main">
      <h1>DLx Data Download API</h1>
      <p>This document describes the API that can be used to download data from a RESOL DataLogger.</p>

<h4 id="supported-devices">Supported Devices</h4>

<ul>
<li>RESOL Datalogger DL2 (version 2.0 or higher)</li>
<li>RESOL Datalogger DL3 (version 2.0 or higher)</li>
</ul>

<h4 id="common-parameters">Common parameters</h4>

<ul>
<li><strong>sessionAuthUsername</strong>: user name for web interface access.</li>
<li><strong>sessionAuthPassword</strong>: password for web interface access.</li>
</ul>

<h2 id="get-live-data-as-json">Get live data as JSON</h2>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET /dlx/download/live
</code></pre></div>
<h4 id="parameters">Parameters</h4>

<ul>
<li><strong>channel</strong> (optional): only include data from given channel.</li>
<li><strong>filter</strong> (optional): the ID of the filter to apply on the data.</li>
<li><strong>view</strong> (optional): the ID of the view to apply on the data.</li>
</ul>

<h4 id="example">Example</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">curl &quot;http://$HOST/dlx/download/live?sessionAuthUsername=admin&amp;sessionAuthPassword=admin&quot;
</code></pre></div>
<h4 id="success-response">Success Response</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP/1.1 200 OK
Content-Type: application/json

{
    &quot;language&quot;: &quot;de&quot;,
    &quot;headers&quot;: [{
        &quot;id&quot;: &quot;00_0010_0053_0100&quot;,
        &quot;description&quot;: &quot;VBus 0: DL3&quot;,
        &quot;channel&quot;: 0,
        &quot;destination_address&quot;: 16,
        &quot;source_address&quot;: 83,
        &quot;protocol_version&quot;: 16,
        &quot;command&quot;: 256,
        &quot;info&quot;: 0,
        &quot;destination_name&quot;: &quot;DFA&quot;,
        &quot;source_name&quot;: &quot;DL3&quot;,
        &quot;fields&quot;: [{
            &quot;id&quot;: &quot;000_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 1&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;004_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 2&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;008_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 3&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;012_4_0&quot;,
            &quot;name&quot;: &quot;Current Sensor 4&quot;,
            &quot;unit&quot;: &quot; mA&quot;,
            &quot;unit_code&quot;: &quot;Milliamperes&quot;
        }, {
            &quot;id&quot;: &quot;034_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 1&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }, {
            &quot;id&quot;: &quot;036_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 2&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }, {
            &quot;id&quot;: &quot;038_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 3&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }]
    }],
    &quot;headerset_stats&quot;: {
        &quot;headerset_count&quot;: 1,
        &quot;min_timestamp&quot;: 1385490534.720000,
        &quot;max_timestamp&quot;: 1385490534.720000
    },
    &quot;headersets&quot;: [{
        &quot;timestamp&quot;: 1385490534.720000,
        &quot;packets&quot;: [{
            &quot;header_index&quot;: 0,
            &quot;timestamp&quot;: 1385490534.606000,
            &quot;field_values&quot;: [{
                &quot;field_index&quot;: 0,
                &quot;raw_value&quot;: 994.973000,
                &quot;value&quot;: &quot;994.973&quot;
            }, {
                &quot;field_index&quot;: 1,
                &quot;raw_value&quot;: 1072.768000,
                &quot;value&quot;: &quot;1072.768&quot;
            }, {
                &quot;field_index&quot;: 2,
                &quot;raw_value&quot;: 1078.975000,
                &quot;value&quot;: &quot;1078.975&quot;
            }, {
                &quot;field_index&quot;: 3,
                &quot;raw_value&quot;: 3.990000,
                &quot;value&quot;: &quot;3.990&quot;
            }, {
                &quot;field_index&quot;: 4,
                &quot;raw_value&quot;: -1.200000,
                &quot;value&quot;: &quot;-1.2&quot;
            }, {
                &quot;field_index&quot;: 5,
                &quot;raw_value&quot;: 18.600000,
                &quot;value&quot;: &quot;18.6&quot;
            }, {
                &quot;field_index&quot;: 6,
                &quot;raw_value&quot;: 20.200000,
                &quot;value&quot;: &quot;20.2&quot;
            }]
        }]
    }]
}
</code></pre></div>
<h4 id="failure-responses-(http-status-code-500)">Failure responses (HTTP status code 500)</h4>

<ul>
<li><strong>InvalidFilterID</strong>: the value of the <code>filter</code> parameter was invalid.</li>
<li><strong>InvalidViewID</strong>: the value of the <code>view</code> parameter was invalid.</li>
</ul>

<h2 id="download-data">Download data</h2>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET /dlx/download/download
</code></pre></div>
<h4 id="parameters">Parameters</h4>

<ul>
<li><strong>source</strong> (default <code>log</code>): source of the data (can be <code>log</code> for recorded data or <code>current</code> for live data).</li>
<li><strong>inputType</strong> (default <code>packets</code>): type of data to read from the source (can be <code>packets</code> for VBus v1 packets).</li>
<li><strong>outputType</strong> (default <code>text-tab-crlf</code>): output file format of the download. Can be:

<ul>
<li><strong>text-tab-crlf</strong>: Tab separated text file with CR+LF line endings (Windows).</li>
<li><strong>text-tab-lf</strong>: Tab separated text file with LF line endings (Linux / OSX).</li>
<li><strong>text-csv-crlf</strong>: Semicolon separated text file with CR+LF line endings (Windows).</li>
<li><strong>text-csv-lf</strong>: Semicolon separated text file with LF line endings (Linux / OSX).</li>
<li><strong>json</strong>: JSON encoded text file.</li>
<li><strong>vbus</strong>: Binary file conforming to VBus Recording File Format.</li>
</ul></li>
<li><strong>sieveInterval</strong> (optional): allows filtering the data to be downloaded by specifying an interval in seconds that should be kept between two data records. For example: the DL2 could be configured to store data every 10 seconds, but you can download a file only containing hourly records by specifying <code>3600</code> here.</li>
<li><strong>ttl</strong> (optional): time-to-live in seconds. Records that have not been refreshed in this time are no longer included in the output.</li>
<li><strong>startDate</strong> (optional): start date in <code>MM/DD/YYYY</code> format.</li>
<li><strong>endDate</strong> (optional): end date in <code>MM/DD/YYYY</code> format.</li>
<li><strong>dataLanguage</strong> (optional): language code (ISO 639-1) to use for the text conversion.</li>
<li><strong>filter</strong> (optional): the ID of the filter to apply on the data.</li>
</ul>

<h4 id="example">Example</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">curl &quot;http://$HOST/dlx/download/live?sessionAuthUsername=admin&amp;sessionAuthPassword=admin&amp;outputType=json&amp;source=current&quot;
</code></pre></div>
<h4 id="sucess-response">Sucess Response</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP/1.1 200 OK
Content-Type: application/json

{
    &quot;language&quot;: &quot;de&quot;,
    &quot;headers&quot;: [{
        &quot;id&quot;: &quot;00_0010_0053_0100&quot;,
        &quot;description&quot;: &quot;VBus 0: DL3&quot;,
        &quot;channel&quot;: 0,
        &quot;destination_address&quot;: 16,
        &quot;source_address&quot;: 83,
        &quot;protocol_version&quot;: 16,
        &quot;command&quot;: 256,
        &quot;info&quot;: 0,
        &quot;destination_name&quot;: &quot;DFA&quot;,
        &quot;source_name&quot;: &quot;DL3&quot;,
        &quot;fields&quot;: [{
            &quot;id&quot;: &quot;000_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 1&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;004_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 2&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;008_4_0&quot;,
            &quot;name&quot;: &quot;Resistor Sensor 3&quot;,
            &quot;unit&quot;: &quot; Ohm&quot;,
            &quot;unit_code&quot;: &quot;Ohms&quot;
        }, {
            &quot;id&quot;: &quot;012_4_0&quot;,
            &quot;name&quot;: &quot;Current Sensor 4&quot;,
            &quot;unit&quot;: &quot; mA&quot;,
            &quot;unit_code&quot;: &quot;Milliamperes&quot;
        }, {
            &quot;id&quot;: &quot;034_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 1&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }, {
            &quot;id&quot;: &quot;036_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 2&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }, {
            &quot;id&quot;: &quot;038_2_0&quot;,
            &quot;name&quot;: &quot;Temperature Sensor 3&quot;,
            &quot;unit&quot;: &quot; \u00B0C&quot;,
            &quot;unit_code&quot;: &quot;DegreesCelsius&quot;
        }]
    }],
    &quot;headerset_stats&quot;: {
        &quot;headerset_count&quot;: 1,
        &quot;min_timestamp&quot;: 1385490534.720000,
        &quot;max_timestamp&quot;: 1385490534.720000
    },
    &quot;headersets&quot;: [{
        &quot;timestamp&quot;: 1385490534.720000,
        &quot;packets&quot;: [{
            &quot;header_index&quot;: 0,
            &quot;timestamp&quot;: 1385490534.606000,
            &quot;field_values&quot;: [{
                &quot;field_index&quot;: 0,
                &quot;raw_value&quot;: 994.973000,
                &quot;value&quot;: &quot;994.973&quot;
            }, {
                &quot;field_index&quot;: 1,
                &quot;raw_value&quot;: 1072.768000,
                &quot;value&quot;: &quot;1072.768&quot;
            }, {
                &quot;field_index&quot;: 2,
                &quot;raw_value&quot;: 1078.975000,
                &quot;value&quot;: &quot;1078.975&quot;
            }, {
                &quot;field_index&quot;: 3,
                &quot;raw_value&quot;: 3.990000,
                &quot;value&quot;: &quot;3.990&quot;
            }, {
                &quot;field_index&quot;: 4,
                &quot;raw_value&quot;: -1.200000,
                &quot;value&quot;: &quot;-1.2&quot;
            }, {
                &quot;field_index&quot;: 5,
                &quot;raw_value&quot;: 18.600000,
                &quot;value&quot;: &quot;18.6&quot;
            }, {
                &quot;field_index&quot;: 6,
                &quot;raw_value&quot;: 20.200000,
                &quot;value&quot;: &quot;20.2&quot;
            }]
        }]
    }]
}
</code></pre></div>
<h4 id="failure-responses-(http-status-code-500)">Failure responses (HTTP status code 500)</h4>

<ul>
<li><strong>InvalidFilterID</strong>: the value of the <code>filter</code> parameter was invalid.</li>
</ul>

    </div>
  </div>
</div>


    <div id="footer">
      <div class="container">
        <p class="text-muted">
          <a href="https://github.com/danielwippermann/resol-vbus"><i class="fa fa-github"></i> GitHub</a>
        </p>
      </div>
    </div>

    <script src="scripts/jquery.js"></script>
    <script src="scripts/lodash.js"></script>
    <script src="scripts/bootstrap.js"></script>
  </body>
</html>
